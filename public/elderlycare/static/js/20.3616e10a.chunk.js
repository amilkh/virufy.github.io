(this.webpackJsonpelderly_care_app=this.webpackJsonpelderly_care_app||[]).push([[20,38,53],{191:function(n,e,t){"use strict";t.d(e,"a",(function(){return f}));var r=t(201),a=t(6),i=t.n(a),o=t(187),u=t(186),c=t(189);function l(){var n=Object(o.a)(["\n  height: 50px;\n  border-radius: 15px; \n  font-family: 'Source Sans Pro'; /* It could be removed if default on body changes */\n  font-weight: bold;\n  font-size: 14px;\n  font-weight: bold;\n  width: 100%;\n\n  ","\n"]);return l=function(){return n},n}var s=u.default.button(l(),(function(n){var e=n.dark,t=n.disabled?c.a.purple_50:c.a.purple;return e?"\n    background-color: ".concat(t,";\n    color: ").concat(c.a.white,";\n    border: none;\n  "):"\n    background-color: ".concat(c.a.white,";\n    color: ").concat(t,";\n    border: 1px solid ").concat(t,";\n  ")})),f=i.a.memo((function(n){var e=n.children,t=Object(r.a)(n,["children"]);return i.a.createElement(s,Object.assign({type:"button"},t),e)}))},192:function(n,e,t){"use strict";var r=t(6),a=t.n(r),i=t(206);e.a=function(){var n=a.a.useContext(i.a),e=n.title,t=n.setTitle,r=n.subtitle,o=n.setSubtitle,u=n.type,c=n.setType,l=n.logoSize,s=n.setLogoSize,f=n.setDoGoBack;return{title:e,setTitle:t,subtitle:r,setSubtitle:o,type:u,setType:c,logoSize:l,setLogoSize:s,doGoBack:n.doGoBack,setDoGoBack:f}}},193:function(n,e,t){"use strict";t.d(e,"a",(function(){return r}));var r=function(){window.scrollTo({top:0,behavior:"smooth"})}},195:function(n,e,t){"use strict";t.d(e,"a",(function(){return s}));var r=t(6),a=t.n(r),i=t(191),o=t(187);function u(){var n=Object(o.a)(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  max-width: ",";\n  margin: 0 auto;\n\n  button {\n    flex: 1;\n    min-height: ","; // Adjust height based on skip prop\n    width: ","; // Adjust width if skip is true\n    margin-bottom: 8px;\n\n    // &:first-of-type {\n    //   margin-left: 0px !important;\n    // }\n    \n    &:last-of-type {\n      ",' // Push the "Skip" button to the right\n    }\n  }\n\n  @media screen and (',"){\n    max-width: 470px;\n  }\n"]);return u=function(){return n},n}var c=t(186).default.div(u(),(function(n){return"calc(100% - ".concat(2*n.theme.layout.generalPaddingAmount,"px)")}),(function(n){return n.skip?"42px":"50px"}),(function(n){return n.skip?"100px":"100%"}),(function(n){return n.skip&&"margin-left: auto;"}),(function(n){return n.theme.breakpoints.tablet})),l=a.a.memo((function(n){var e=n.invert,t=void 0!==e&&e,r=n.leftLabel,o=n.leftDisabled,u=n.leftHandler,l=n.rightLabel,s=n.rightDisabled,f=n.rightHandler,d=n.skip;return a.a.createElement(c,{skip:d},a.a.createElement(i.a,{dark:t,disabled:o,onClick:u},r),l&&f&&a.a.createElement(i.a,{dark:!t,disabled:s,onClick:f},l))})),s=a.a.memo(l)},196:function(n,e,t){"use strict";t.d(e,"b",(function(){return i})),t.d(e,"a",(function(){return o}));var r=t(188),a=t(202);function i(n){return function(e,t){return Object(a.a)(Object(a.a)({},e),{},Object(r.a)({},n,Object(a.a)(Object(a.a)({},e[n]),t)))}}function o(){return function(n){return{welcome:{language:n.welcome.language},"submit-steps":{ageGroup:"",biologicalSex:"",currentMedicalCondition:[],currentSymptoms:[],recordYourBreath:{recordingFile:null,uploadedFile:null},recordYourCough:{recordingFile:null,uploadedFile:null},symptomsStartedDate:""}}}}},224:function(n,e,t){"use strict";t.d(e,"a",(function(){return a}));var r=t(230);function a(n,e){return new Promise((function(t){n.duration===1/0||r.isSafari&&!(r.isSafari&&n.duration>0)?(n.addEventListener("durationchange",(function(){e?n.remove():(n.pause(),n.volume=1,n.currentTime=0),t(n.duration)})),n.currentTime=86400,n.play()):t(n.duration)}))}},243:function(n,e,t){"use strict";e.a={sizeAsHuman:function(n,e){var t=e?1e3:1024;if(Math.abs(n)<t)return"".concat(n," B");var r=e?["kB","MB","GB","TB","PB","EB","ZB","YB"]:["KiB","MiB","GiB","TiB","PiB","EiB","ZiB","YiB"],a=-1;do{n/=t,++a}while(Math.abs(n)>=t&&a<r.length-1);return"".concat(n.toFixed(1)," ").concat(r[a])},blobToFile:function(n,e){return new File([n],e,{type:n.type,lastModified:Date.now()})}}},266:function(n,e,t){"use strict";t.r(e),t.d(e,"MainContainer",(function(){return B})),t.d(e,"PlayerContainer",(function(){return E})),t.d(e,"PlayerContainerTop",(function(){return S})),t.d(e,"PlayerPlayContainer",(function(){return w})),t.d(e,"PlayerCrossContainer",(function(){return T})),t.d(e,"PlayerContainerBottom",(function(){return C})),t.d(e,"PlayerTopMiddle",(function(){return L})),t.d(e,"PlayerBottomTop",(function(){return M})),t.d(e,"PlayerBottomTrack",(function(){return z})),t.d(e,"PlayerBottomThumb",(function(){return F})),t.d(e,"PlayerBottomBottom",(function(){return A})),t.d(e,"Subtitle",(function(){return G})),t.d(e,"TitleAudioName",(function(){return _})),t.d(e,"PlayerTimeIndicator",(function(){return D})),t.d(e,"PlayerPlayButton",(function(){return H})),t.d(e,"PlayerPlay",(function(){return Y})),t.d(e,"PlayerCross",(function(){return I})),t.d(e,"BeforeSubmitText",(function(){return N})),t.d(e,"TempBeforeSubmitError",(function(){return R}));var r=t(187),a=t(186),i=t(189);function o(){var n=Object(r.a)(["\ncolor: ",";\n  text-align: center;\n  margin-bottom: 16px;\n"]);return o=function(){return n},n}function u(){var n=Object(r.a)(["\n  font-family: 'Source Sans Pro';\n  font-size: 14px;\n  line-height: 20px;\n  color: ",";\n  margin: 0;\n"]);return u=function(){return n},n}function c(){var n=Object(r.a)(["\n  width: 14px;\n  height: 14px;\n"]);return c=function(){return n},n}function l(){var n=Object(r.a)(["\n  width: 33px;\n  height: 40px;\n"]);return l=function(){return n},n}function s(){var n=Object(r.a)(["\n  width: 108px;\n  height: 108px;\n  background-color: ",";\n  border-radius: 50%;\n  cursor: pointer;\n  display: flex; \n  align-items: center; \n  justify-content: center; \n"]);return s=function(){return n},n}function f(){var n=Object(r.a)(["\n  opacity: 0.5;\n  margin-top: 8px;\n  font-family: 'Source Sans Pro';\n  font-size: 0.875rem;\n  color: ",";\n  font-weight: 400;\n"]);return f=function(){return n},n}function d(){var n=Object(r.a)(["\n  color: ",';\n  font-size: 14px;\n  font-family: "Source Sans Pro";\n  text-align: left;\n']);return d=function(){return n},n}function p(){var n=Object(r.a)(["\n  color: ",';\n  font-size: 18px;\n  font-family: "Source Sans Pro";\n  text-align: left;\n  white-space: pre-wrap;\n  width: 100%;\n  margin-left: 20px;\n  margin-bottom: 60px;\n  \n  @media screen and (',") {\n    max-width: 592px;\n    margin-right: auto; \n    margin-left: auto; \n  }\n"]);return p=function(){return n},n}function m(){var n=Object(r.a)(["\n  display: flex;\n  align-items: flex-start;\n  justify-content: space-between;\n"]);return m=function(){return n},n}function b(){var n=Object(r.a)(["\n  position: absolute;\n  top: -6px;\n  left: ",";\n  width: 16px;\n  height: 16px;\n  border-radius: 50%;\n  background-color: ",";\n  transform: translateX(-50%);\n  ","\n"]);return b=function(){return n},n}function g(){var n=Object(r.a)(["\n  position: relative;\n  width: 100%;\n  height: 4px;\n  background-color: ",";\n\n  &:after{\n    content: '';\n    position: absolute; \n    left: 0;\n    height: 4px;\n    background-color: ",";\n    width: ",";\n    ","\n\n  }\n"]);return g=function(){return n},n}function h(){var n=Object(r.a)(["\n  position: relative;\n  margin-bottom: 4px;\n"]);return h=function(){return n},n}function v(){var n=Object(r.a)(["\n  flex: 1;\n"]);return v=function(){return n},n}function y(){var n=Object(r.a)([""]);return y=function(){return n},n}function x(){var n=Object(r.a)(["\n  display: flex;\n  align-items: flex-start;\n  justify-content: flex-end;\n  width: 22px;\n  padding-bottom: 22px;\n  margin-right: -20px;\n  padding-right: 20px;\n  box-sizing: content-box;\n  cursor: pointer;\n"]);return x=function(){return n},n}function j(){var n=Object(r.a)(["\n  width: 100%;\n  display: flex;\n  justify-content: center;\n  margin-top: 76px;\n"]);return j=function(){return n},n}function P(){var n=Object(r.a)(["\n  display: flex;\n  align-items: flex-start;\n  justify-content: flex-start;\n  margin-bottom: 10px;\n"]);return P=function(){return n},n}function k(){var n=Object(r.a)(["\n  display: flex;\n  flex-direction: column;\n  margin: 60px 20px 0px 20px;\n\n  @media screen and (",") {\n    max-width: 592px;\n    margin: 0 auto;\n  }\n"]);return k=function(){return n},n}function O(){var n=Object(r.a)(["\n  margin-bottom: 77px;\n\n  @media screen and (",") {\n    max-width: 470px;\n    margin: auto;\n  }\n"]);return O=function(){return n},n}var B=a.default.div(O(),(function(n){return n.theme.breakpoints.tablet})),E=a.default.div(k(),(function(n){return n.theme.breakpoints.tablet})),S=a.default.div(P()),w=a.default.div(j()),T=a.default.div(x()),C=a.default.div(y()),L=a.default.div(v()),M=a.default.div(h()),z=a.default.div(g(),i.a.purple_10,i.a.purple,(function(n){return n.progress?"".concat(n.progress,"%"):"0%"}),(function(n){return n.playing?"transition: width 0.2s linear;":""})),F=a.default.div(b(),(function(n){return n.progress?"".concat(n.progress,"%"):"0px"}),i.a.purple,(function(n){return n.playing?"transition: left 0.2s linear;":""})),A=a.default.div(m()),G=a.default.h2(p(),(function(n){return n.theme.colors.mineShaft}),(function(n){return n.theme.breakpoints.tablet})),_=a.default.p(d(),(function(n){return n.theme.colors.mineShaft})),D=a.default.p(f(),i.a.mineShaft),H=a.default.div(s(),i.a.purple_10),Y=a.default.img(l()),I=a.default.img(c()),N=a.default.p(u(),(function(n){return n.theme.colors.darkGray_70})),R=Object(a.default)(N)(o(),(function(n){return n.theme.colors.red}))},289:function(n,e,t){"use strict";t.r(e);var r=t(188),a=t(198),i=t.n(a),o=t(199),u=t(190),c=t(6),l=t.n(c),s=t(213),f=t(203),d=t.n(f),p=t(777),m=t(194),b=t(192),g=t(195),h=t(196),v=t(224),y=t(193),x=t(366),j=t.n(x),P=t(367),k=t.n(P),O=t(368),B=t.n(O),E=t(243),S=t(266);e.default=l.a.memo((function(n){var e,t,a=n.storeKey,f=n.previousStep,x=n.nextStep,P=n.metadata,O=l.a.useMemo((function(){return!!P&&"recordYourCough"===P.currentLogic}),[P]),w=l.a.useMemo((function(){return!!P&&"recordYourBreath"===P.currentLogic}),[P]),T=d()({bindTo:document&&document.getElementById("wizard-buttons")}).Portal,C=Object(b.a)(),L=C.setDoGoBack,M=C.setTitle,z=C.setSubtitle,F=Object(s.g)(),A=Object(s.h)(),G=Object(m.d)(Object(h.b)(a)),_=G.state,D=G.action,H=Object(p.a)().t,Y=(null===A||void 0===A||null===(e=A.state)||void 0===e?void 0:e.isShortAudioCollection)||!1,I=null===_||void 0===_||null===(t=_[a])||void 0===t?void 0:t[null===P||void 0===P?void 0:P.currentLogic],N=I?I.recordingFile||I.uploadedFile:null,R=l.a.useRef(null),U=l.a.useRef(),J=l.a.useRef(0),K=l.a.useState(!0),Z=Object(u.a)(K,2),X=Z[0],q=Z[1],Q=l.a.useState(!1),V=Object(u.a)(Q,2),W=V[0],$=V[1],nn=l.a.useState(0),en=Object(u.a)(nn,2),tn=en[0],rn=en[1],an=l.a.useState(0),on=Object(u.a)(an,2),un=on[0],cn=on[1];l.a.useEffect((function(){var n=function(){!function n(e){cn(e/1e3),J.current=e,U.current=setTimeout((function(){n(e+200)}),200)}(J.current),setTimeout((function(){$(!0)}),0)},e=function(n){n.target.currentTime>=n.target.duration&&(cn(0),J.current=0),$(!1),clearTimeout(U.current)},t=function(){var n=Object(o.a)(i.a.mark((function n(e){var t;return i.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Object(v.a)(e.target);case 2:t=n.sent,rn(t);case 4:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();return R.current&&(R.current.addEventListener("playing",n),R.current.addEventListener("pause",e),R.current.addEventListener("loadedmetadata",t)),function(){R.current&&(R.current.removeEventListener("playing",n),R.current.removeEventListener("pause",e),R.current.removeEventListener("loadedmetadata",t))}}),[]);var ln=l.a.useMemo((function(){var n={fileUrl:"",fileName:"",fileSize:""};if(N&&void 0!==N.size)try{var e=URL.createObjectURL(N);n.fileUrl=e,n.fileName=N.name,n.fileSize=E.a.sizeAsHuman(N.size,!0)}catch(t){console.log("Error",t)}return n}),[N]),sn=ln.fileUrl,fn=ln.fileName,dn=l.a.useCallback((function(){x&&(q(!1),F.push(x))}),[F,x]),pn=l.a.useCallback((function(){W&&R.current&&R.current.pause(),q(!1),A.state&&A.state.from?O?F.push("/elderlycare/submit-steps/step-record/cough",{isShortAudioCollection:Y}):w?F.push("/elderlycare/submit-steps/step-record/breath"):F.push("/elderlycare/submit-steps/step-record/speech"):f?F.push(f):F.goBack()}),[A.state,f,F,O,w,Y,W]),mn=l.a.useCallback((function(){W&&R.current&&R.current.pause(),(null===_||void 0===_?void 0:_[a][null===P||void 0===P?void 0:P.currentLogic])&&(D(Object(r.a)({},null===P||void 0===P?void 0:P.currentLogic,{recordingFile:null,uploadFile:null})),pn())}),[W,_,a,P,D,pn]),bn=l.a.useCallback((function(){W||R.current&&R.current.play()}),[W]),gn=l.a.useCallback((function(){W&&R.current&&R.current.pause()}),[W]);Object(c.useEffect)((function(){Object(y.a)(),z(H("recordingsListen:title")),M(H(O?"recordingsListen:recordCough.header":w?"recordingsListen:recordBreath.header":"recordingsListen:recordSpeech.header")),L((function(){return pn}))}),[pn,O,w,L,M,z,H]);var hn=l.a.useMemo((function(){var n={currentTime:"0:00",remainingTime:"0:00",trackProgress:0};if(tn){var e=Math.floor(Math.floor(un)/60),t=Math.floor(un)-60*e;n.currentTime="".concat(e,":").concat(t<10?"0".concat(t):t);var r=tn>un?Math.ceil(tn-un):0,a=Math.floor(r/60),i=r-60*a;n.remainingTime="-".concat(a,":").concat(i<10?"0".concat(i):i),n.trackProgress=Math.ceil(un/tn*100)}return n}),[tn,un]),vn=hn.currentTime,yn=hn.remainingTime,xn=hn.trackProgress;return l.a.createElement(l.a.Fragment,null,sn&&l.a.createElement("audio",{ref:R},l.a.createElement("source",{src:sn})),l.a.createElement(S.MainContainer,null,l.a.createElement(S.Subtitle,null,H("recordingsListen:subtitle")),l.a.createElement(S.PlayerContainer,null,l.a.createElement(S.PlayerContainerTop,null,l.a.createElement(S.PlayerTopMiddle,null,l.a.createElement(S.TitleAudioName,null,fn)),l.a.createElement(S.PlayerCrossContainer,{onClick:mn},l.a.createElement(S.PlayerCross,{src:B.a}))),l.a.createElement(S.PlayerContainerBottom,null,l.a.createElement(S.PlayerBottomTop,null,l.a.createElement(S.PlayerBottomTrack,{playing:W,progress:xn}),l.a.createElement(S.PlayerBottomThumb,{playing:W,progress:xn})),l.a.createElement(S.PlayerBottomBottom,null,l.a.createElement(S.PlayerTimeIndicator,null,vn),l.a.createElement(S.PlayerTimeIndicator,null,yn)))),l.a.createElement(S.PlayerPlayContainer,{onClick:W?gn:bn},l.a.createElement(S.PlayerPlayButton,null,l.a.createElement(S.PlayerPlay,{src:W?k.a:j.a})))),X&&l.a.createElement(T,null,l.a.createElement(g.a,{invert:!0,leftLabel:H("recordingsListen:next"),leftHandler:dn,rightLabel:H("recordingsListen:retake"),rightHandler:pn})))}))},315:function(n,e,t){"use strict";t.r(e);var r=t(289);t.d(e,"default",(function(){return r.default}))},366:function(n,e,t){n.exports=t.p+"static/media/play.6f092911.svg"},367:function(n,e,t){n.exports=t.p+"static/media/pause.d55011c8.svg"},368:function(n,e,t){n.exports=t.p+"static/media/cross.13e841fb.svg"}}]);
//# sourceMappingURL=20.3616e10a.chunk.js.map