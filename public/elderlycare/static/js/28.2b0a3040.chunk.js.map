{"version":3,"sources":["hooks/useHeaderContext.ts","helper/scrollHelper.ts","../node_modules/little-state-machine/dist/little-state-machine.es.js","assets/icons/exclamationCircle.svg","containers/SubmitSteps/Submission/Sending/Sending.tsx","containers/SubmitSteps/Submission/Sending/index.ts"],"names":["useHeaderContext","React","useContext","HeaderContext","title","setTitle","subtitle","setSubtitle","type","setType","logoSize","setLogoSize","setDoGoBack","doGoBack","scrollToTop","window","scrollTo","top","behavior","getBrowserStoreData","storageType","storeName","sessionStorageData","getItem","JSON","parse","undefined","_a","storeFactory","name","store","set","value","get","getName","isUndefined","val","setUpDevTools","isDevMode","getStore","STATE_MACHINE_DEBUG","setItem","STATE_MACHINE_RESET","clear","STATE_MACHINE_GET_STORE","STATE_MACHINE_SAVE_TO","localStorage","stringify","STATE_MACHINE_LOAD","data","StateMachineContext","createContext","updateStore","payload","transformStore","transform","externalStoreName","externalStoreData","currentStoreData","getSyncStoreData","defaultStoreData","options","syncStoreOption","syncStores","Array","isArray","forEach","option","Object","entries","key","values","browserStore","assign","setStore","isClient","sessionStorage","length","toString","removeItem","middleWaresArray","setStorageType","createStore","middleWares","methods","process","StateMachineProvider","props","useState","globalState","useMemo","createElement","Provider","actionTemplate","callback","result","shouldReRenderApp","pipeData","reduce","currentValue","currentFunction","useStateMachine","updateStoreFunction","keys","actions","previous","useCallback","action","p","state","_extends","target","i","arguments","source","prototype","hasOwnProperty","call","apply","this","_objectWithoutProperties","excluded","sourceKeys","indexOf","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","_ref2","d","_ref3","points","_ref4","SvgExclamationCircle","_ref","svgRef","width","height","viewBox","fill","ref","ForwardRef","forwardRef","toBase64","file","Promise","resolve","reject","reader","FileReader","readAsDataURL","onload","split","onerror","error","memo","setActiveStep","history","useHistory","setError","sendDataToBackend","a","structuredData","patientId","location","facility","ageGroup","biologicalSex","currentSymptoms","currentMedicalCondition","coughFile","recordYourCough","recordingFile","uploadedFile","Blob","coughBase64","fetch","method","headers","body","response","json","console","log","nextStep","push","handleDoBack","previousStep","goBack","mocksendDataToBackend","setTimeout","useEffect","style","marginTop","marginLeft","marginRight","errors","render"],"mappings":"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","file":"static/js/28.2b0a3040.chunk.js","sourcesContent":["import React from 'react';\nimport { HeaderContext } from 'components/Header';\n\nconst useHeaderContext = () => {\n  const {\n    title, setTitle, subtitle, setSubtitle, type, setType, logoSize, setLogoSize, setDoGoBack, doGoBack,\n  } = React.useContext(HeaderContext);\n\n  return {\n    title,\n    setTitle,\n    subtitle,\n    setSubtitle,\n    type,\n    setType,\n    logoSize,\n    setLogoSize,\n    doGoBack,\n    setDoGoBack,\n  };\n};\n\nexport default useHeaderContext;\n","export const scrollToTop = function scrollToTop() {\n  window.scrollTo({ top: 0, behavior: 'smooth' });\n};\n\nexport const scrollToBottom = function scrollToBottom() {\n  window.scrollTo({ top: document.body.scrollHeight, behavior: 'smooth' });\n};\n","import { createContext, useState, useMemo, createElement, useContext, useCallback } from 'react';\n\nconst STORE_DEFAULT_NAME = '__STATE_MACHINE__';\r\nconst STORE_ACTION_NAME = '__STATE_MACHINE_ACTION_NAME__';\r\nconst STATE_MACHINE_DEBUG_NAME = '___STATE_MACHINE_DEBUG__';\n\nvar getBrowserStoreData = (storageType, storeName) => {\r\n    const sessionStorageData = storageType.getItem(storeName);\r\n    try {\r\n        return sessionStorageData ? JSON.parse(sessionStorageData) : undefined;\r\n    }\r\n    catch (_a) {\r\n        return undefined;\r\n    }\r\n};\n\nfunction storeFactory(storageType, name) {\r\n    const storeName = name || STORE_DEFAULT_NAME;\r\n    let store = getBrowserStoreData(storageType, storeName);\r\n    const getName = () => storeName;\r\n    const set = (value) => {\r\n        store = value;\r\n    };\r\n    const get = () => store;\r\n    return {\r\n        set,\r\n        get,\r\n        getName,\r\n    };\r\n}\n\nvar isUndefined = (val) => val === undefined;\n\nfunction setUpDevTools(isDevMode, storageType, getName, getStore) {\r\n    if (typeof window === 'undefined' || !isDevMode)\r\n        return;\r\n    // @ts-ignore\r\n    window.STATE_MACHINE_DEBUG = (value) => storageType.setItem(STATE_MACHINE_DEBUG_NAME, value);\r\n    // @ts-ignore\r\n    window.STATE_MACHINE_RESET = () => storageType.clear();\r\n    // @ts-ignore\r\n    window.STATE_MACHINE_GET_STORE = () => storageType.getItem(getName());\r\n    // @ts-ignore\r\n    window.STATE_MACHINE_SAVE_TO = name => window.localStorage.setItem(name, JSON.stringify(getStore()));\r\n    // @ts-ignore\r\n    window.STATE_MACHINE_LOAD = ({ storeName, data, }) => storageType.setItem(getName() || STATE_MACHINE_DEBUG_NAME, data || window.localStorage.getItem(storeName) || '');\r\n}\n\nvar StateMachineContext = createContext({\r\n    store: {},\r\n    updateStore: (payload) => payload,\r\n});\n\nvar transformStore = ({ transform, externalStoreName, storageType, store, }) => transform({\r\n    externalStoreData: getBrowserStoreData(storageType, externalStoreName),\r\n    currentStoreData: store,\r\n});\n\nfunction getSyncStoreData(defaultStoreData, options, storageType) {\r\n    let store = defaultStoreData;\r\n    const syncStoreOption = options.syncStores;\r\n    if (!syncStoreOption)\r\n        return store;\r\n    try {\r\n        if (Array.isArray(syncStoreOption)) {\r\n            syncStoreOption.forEach(option => {\r\n                store = transformStore({\r\n                    transform: option.transform,\r\n                    externalStoreName: option.externalStoreName,\r\n                    storageType,\r\n                    store,\r\n                });\r\n            });\r\n        }\r\n        else if (syncStoreOption.externalStoreName &&\r\n            typeof syncStoreOption.transform === 'function' &&\r\n            typeof syncStoreOption.externalStoreName === 'string') {\r\n            return transformStore({\r\n                transform: syncStoreOption.transform,\r\n                externalStoreName: syncStoreOption.externalStoreName,\r\n                storageType,\r\n                store,\r\n            });\r\n        }\r\n        else {\r\n            Object.entries(syncStoreOption).forEach(([key, values]) => {\r\n                const browserStore = getBrowserStoreData(storageType, key);\r\n                values.forEach((value) => {\r\n                    store = Object.assign(Object.assign({}, store), {\r\n                        [value]: Object.assign(Object.assign({}, store[value]), browserStore[value]),\r\n                    });\r\n                });\r\n            });\r\n        }\r\n    }\r\n    catch (_a) {\r\n        return store;\r\n    }\r\n    return store;\r\n}\n\nconst isClient = typeof window !== 'undefined';\r\nconst isDevMode = process.env.NODE_ENV !== 'production';\r\nlet storageType = isClient\r\n    ? window.sessionStorage\r\n    : {\r\n        getItem: payload => payload,\r\n        setItem: (payload) => payload,\r\n        clear: () => { },\r\n        length: 0,\r\n        key: (payload) => payload.toString(),\r\n        removeItem: () => { },\r\n    };\r\nlet getStore;\r\nlet setStore;\r\nlet getName;\r\nlet middleWaresArray = [];\r\nconst middleWare = (data = '') => {\r\n    if (data && isClient) {\r\n        // @ts-ignore\r\n        window[STORE_ACTION_NAME] = data;\r\n    }\r\n    return data;\r\n};\r\nfunction setStorageType(type) {\r\n    storageType = type;\r\n}\r\nfunction createStore(defaultStoreData, options = {\r\n    name: STORE_DEFAULT_NAME,\r\n    middleWares: [],\r\n    syncStores: undefined,\r\n}) {\r\n    const storeName = options ? options.name : STORE_DEFAULT_NAME;\r\n    const methods = storeFactory(storageType, storeName);\r\n    if (isDevMode && isClient) {\r\n        // @ts-ignore\r\n        window['STATE_MACHINE_NAME'] = storeName;\r\n    }\r\n    getName = methods.getName;\r\n    getStore = methods.get;\r\n    setStore = methods.set;\r\n    middleWaresArray = options.middleWares;\r\n    setUpDevTools(isDevMode, storageType, getName, getStore);\r\n    setStore(getSyncStoreData(getStore() || defaultStoreData, options, storageType));\r\n}\r\nfunction StateMachineProvider(props) {\r\n    const [globalState, updateStore] = useState(getStore());\r\n    const value = useMemo(() => ({\r\n        store: globalState,\r\n        updateStore,\r\n    }), [globalState]);\r\n    // @ts-ignore\r\n    return createElement(StateMachineContext.Provider, Object.assign({ value: value }, props));\r\n}\r\nconst actionTemplate = ({ options, callback, updateStore, }) => (payload) => {\r\n    let result;\r\n    const debugName = callback ? callback.name : '';\r\n    if (isDevMode) {\r\n        middleWare(debugName);\r\n    }\r\n    if (callback) {\r\n        result = callback(getStore(), payload);\r\n    }\r\n    setStore(isUndefined(result) ? getStore() : result);\r\n    storageType.setItem(getName(), JSON.stringify(getStore()));\r\n    if (isUndefined(options) ||\r\n        (options && options.shouldReRenderApp !== false)) {\r\n        let pipeData = getStore();\r\n        if (Array.isArray(middleWaresArray) && middleWaresArray.length) {\r\n            pipeData = middleWaresArray.reduce((currentValue, currentFunction) => currentFunction(currentValue) || currentValue, pipeData);\r\n        }\r\n        updateStore(pipeData);\r\n    }\r\n};\r\nfunction useStateMachine(updateStoreFunction, options) {\r\n    const { store: globalState, updateStore } = useContext(StateMachineContext);\r\n    if (updateStoreFunction && Object.keys(updateStoreFunction).length) {\r\n        return {\r\n            actions: Object.entries(updateStoreFunction).reduce((previous, [key, callback]) => (Object.assign(Object.assign({}, previous), { [key]: useCallback(actionTemplate({\r\n                    options,\r\n                    callback,\r\n                    updateStore,\r\n                }), []) })), {}),\r\n            action: p => p,\r\n            state: globalState,\r\n        };\r\n    }\r\n    return {\r\n        actions: {},\r\n        action: useCallback(updateStoreFunction\r\n            ? actionTemplate({\r\n                options,\r\n                callback: updateStoreFunction,\r\n                updateStore,\r\n            })\r\n            : () => { }, []),\r\n        state: globalState,\r\n    };\r\n}\n\nexport { StateMachineContext, StateMachineProvider, createStore, setStorageType, useStateMachine };\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M13.983,0C6.261,0,0.001,6.259,0.001,13.979c0,7.724,6.26,13.984,13.982,13.984s13.98-6.261,13.98-13.984C27.963,6.259,21.705,0,13.983,0z M13.983,26.531c-6.933,0-12.55-5.62-12.55-12.553c0-6.93,5.617-12.548,12.55-12.548c6.931,0,12.549,5.618,12.549,12.548C26.531,20.911,20.913,26.531,13.983,26.531z\"\n});\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"polygon\", {\n  points: \"15.579,17.158 16.191,4.579 11.804,4.579 12.414,17.158\"\n});\n\nvar _ref4 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M13.998,18.546c-1.471,0-2.5,1.029-2.5,2.526c0,1.443,0.999,2.528,2.444,2.528h0.056c1.499,0,2.469-1.085,2.469-2.528C16.441,19.575,15.468,18.546,13.998,18.546z\"\n});\n\nvar SvgExclamationCircle = function SvgExclamationCircle(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: \"24px\",\n    height: \"24px\",\n    viewBox: \"0 0 27.963 27.963\",\n    fill: \"none\",\n    ref: svgRef\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _ref2, _ref3, _ref4);\n};\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(function (props, ref) {\n  return /*#__PURE__*/React.createElement(SvgExclamationCircle, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/exclamationCircle.2f56fd77.svg\";\nexport { ForwardRef as ReactComponent };","import React, { useEffect, useCallback, useState } from 'react';\nimport { useHistory } from 'react-router-dom';\nimport { useStateMachine } from 'little-state-machine';\nimport { ErrorMessage } from '@hookform/error-message';\n\n// Icons\nimport { ReactComponent as ExclamationSVG } from 'assets/icons/exclamationCircle.svg';\n\n// Helper\nimport { scrollToTop } from 'helper/scrollHelper';\n\n// Hooks\nimport useHeaderContext from 'hooks/useHeaderContext';\n\nimport { ImageProcessing, TextErrorContainer} from '../style';\n\ninterface StructuredData {\n  patientId: string;\n  location: string;\n  facility: string;\n  ageGroup: string;\n  biologicalSex: string;\n  currentSymptoms: string[];\n  currentMedicalCondition: string[];\n}\n\nconst apiUrl = process.env.REACT_APP_API_URL!;\n\n// Helper function to convert file to Base64\nconst toBase64 = (file: Blob): Promise<string> => \n  new Promise((resolve, reject) => {\n    const reader = new FileReader();\n    reader.readAsDataURL(file);\n    reader.onload = () => resolve((reader.result as string).split(',')[1]);  // Get the Base64 part only\n    reader.onerror = (error) => reject(error);\n});\n\nconst Sending = (p: Wizard.StepProps) => { \n  const [, setActiveStep] = useState(true);\n  const { setDoGoBack, setTitle, setType } = useHeaderContext();\n  const { state } = useStateMachine();\n  const history = useHistory();\n  const [error, setError] = React.useState<string | null>(null);\n\n  const sendDataToBackend = useCallback(async (): Promise<void> => {\n    try {\n      const structuredData: StructuredData = {\n        patientId: state['welcome']?.patientId,\n        location: state['welcome']?.location,\n        facility: state['welcome']?.facility,\n        ageGroup: state['submit-steps']?.ageGroup,\n        biologicalSex: state['submit-steps']?.biologicalSex,\n        currentSymptoms: state['submit-steps']?.currentSymptoms,\n        currentMedicalCondition: state['submit-steps']?.currentMedicalCondition,\n      };\n    \n      // Retrieve files from the state (either recorded or uploaded)\n      const coughFile = state['submit-steps']?.recordYourCough?.recordingFile || state['submit-steps']?.recordYourCough?.uploadedFile;\n\n      // Convert to Base64 if a file exists\n      const coughBase64 = coughFile instanceof Blob ? await toBase64(coughFile) : null;\n      \n      // Send request to the backend\n      const response = await fetch(apiUrl, {\n        method: 'POST',\n        headers: {\n          'content-type': 'application/json',\n        },\n        body: JSON.stringify({\n          structuredData: structuredData,\n          coughFile: coughBase64,\n        }),\n      });\n\n      const result = await response.json();\n      console.log('Response:', result);\n      if (p.nextStep)\n        history.push(p.nextStep)\n    } catch {\n      console.error('Error sending data: Failed to send data.');\n      setError('Failed to send data.');\n    }\n  }, [state, history, p.nextStep]);\n\n  const handleDoBack = useCallback(() => {\n    if (p.previousStep) {\n      setActiveStep(false);\n      history.push(p.previousStep);\n    } else {\n      history.goBack();\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  const mocksendDataToBackend = useCallback(() => {\n    console.log('MOCK: sending to backend');\n    console.log('State Info:', state);\n    setTimeout(() => {\n      if (p.nextStep) {\n        history.push(p.nextStep);\n      }\n    }, 2000);\n  }, [state, history, p.nextStep]);\n\n  useEffect(() => {\n    scrollToTop();\n    setTitle('');\n    setType('tertiary');\n    setDoGoBack(null);\n    sendDataToBackend(); \n    // mocksendDataToBackend();\n  }, [handleDoBack, setDoGoBack, setTitle, setType, sendDataToBackend, mocksendDataToBackend]);\n\n  return (\n    <>\n      <h1 style={{ marginTop: '50px', marginLeft:'auto', marginRight:'auto'}}>送信中...</h1>\n      <ImageProcessing />\n      {error && (\n        <ErrorMessage\n          errors={{ error }}\n          name=\"error\"\n          render={() => (\n            <TextErrorContainer>\n              <ExclamationSVG />\n              {error}\n            </TextErrorContainer>\n          )}\n        />\n      )}\n    </>\n  );\n};\n\nexport default React.memo(Sending);\n","export { default } from './Sending';\n"],"sourceRoot":""}